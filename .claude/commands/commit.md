---
description: 生成符合规范的 Git 提交消息
---

分析当前 git diff，生成符合项目 Git 提交规范的提交消息。

---

## 提交规范

格式：`<emoji> <type>: <description>`

| Emoji | 类型 | 说明 |
|-------|------|------|
| ✨ | feat | 新功能 |
| 🐞 | fix | Bug 修复 |
| 📔 | docs | 文档更新 |
| ♻️ | refactor | 代码重构（不影响功能） |
| 🎨 | style | 代码格式（不影响功能） |
| ✅ | test | 测试相关 |
| 🔨 | chore | 构建/依赖/工具更新 |
| ⚡ | perf | 性能优化 |

---

## 执行步骤

1. 运行 `git status` 查看当前状态
2. 运行 `git diff --cached --stat` 查看已暂存的变更
3. 如果没有暂存变更，运行 `git diff --stat` 查看未暂存变更
4. 分析变更内容，判断属于哪种类型
5. 生成简洁的中文描述（聚焦 "why" 而非 "what"）
6. 输出完整的提交消息

---

## 输出格式

```
<emoji> <type>: <简短标题>

<详细描述（可选，说明为什么做这个变更）>

- 变更点1
- 变更点2
```

---

## 示例

### 示例 1：新功能
```
✨ feat: 新增用户登录功能

实现微信小程序端的用户登录流程

- 新增 wx.login 登录接口
- 添加 JWT Token 认证
- 实现登录态持久化
```

### 示例 2：Bug 修复
```
🐞 fix: 修复用户列表分页错误

解决分页参数未正确传递导致的数据重复问题

- 修正 skip 计算逻辑
- 添加参数校验
```

### 示例 3：重构
```
♻️ refactor: 重构用户模块目录结构

按照 NestJS 最佳实践调整模块组织

- 将 DTO 移至独立目录
- 抽离公共类型定义
```

---

## 注意事项

- 标题简洁明了，不超过 50 字符
- 使用中文描述
- 聚焦 "为什么" 而非 "改了什么"
- 不要包含 Issue 编号（除非明确要求）
- 不要自动执行 git commit，只生成消息
